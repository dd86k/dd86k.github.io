"use strict";function startUp(){writeLine("Reminder: This is still under development."),document.title=title,navcheck.test(navigator.userAgent)&&writeLine("!! ALERT: Using incompatible web browser !!"),navchecklight.test(navigator.userAgent)&&writeLine("Warning: Your web browser isn't fully compatible!"),writeLine(""),write(getcd())}function getcd(){return Terminal.username+"@"+Terminal.hostname+":"+Terminal.cd+Terminal.state}function executeCommand(e){if(""==e||null==e)writeLine(""),write(getcd());else{var t=document.getElementById("input").innerHTML,n=t.split(space,1)[0].trim();t=t.substr(n.length+space.length).replace(space," ").trim();var r=t.length>0,i=!1;switch(writeLine(space+n+space+t),debug&&(writeLine("command: "+n),writeLine("Has args: "+(r?"Yes":"No")),r&&writeLine("Args: "+t),writeLine("== OUTPUT ==")),n){case"about":writeLine(""),writeLine('Tiny GNU/Linux "Terminal", made for fun.'),writeLine("Powered by HTML5, CSS3, and Javascript."),writeLine("Using Canonical Ltd.'s Ubuntu Monospaced font. (c)"),writeLine("Written by DD~!"),writeLine("Version: "+version),writeLine("");break;case"cal":break;case"cd":break;case"cksum":if(/--version/.test(t))writeLine("cksum (coreutils) 8.21"+nl+"Copyright (C) 2013 Free Software Foundation, Inc."+nl+"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;."+nl+"This is free software: you are free to change and redistribute it."+nl+"There is NO WARRANTY, to the extent permitted by law."+nl+nl+"Written by Q. Frank Xia.");else if(/--help/.test(t))writeLine("Usage: cksum [TEXT]..."+nl+"  or:  cksum [OPTION]"+nl+"Print CRC checksum and byte counts of each TEXT."+nl+nl+"      --help     display this help and exit"+nl+"      --version  output version information and exit"+nl+nl+"Report cksum bugs to bug-coreutils@gnu.org"+nl+"GNU coreutils home page: &lt;http://www.gnu.org/software/coreutils/&gt;"+nl+"General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;"+nl+"For complete documentation, run: info coreutils 'cksum invocation'");else if(r){var t=t.replace(space," ");writeLine(HashTextCKSUM(t))}break;case"clear":writeLine(insertBr(30));break;case"date":var s=new Date,a=s.getDate(),o=s.getMonth(),c=s.getFullYear(),u=s.getHours(),l=s.getMinutes(),d=s.getSeconds(),m=s.getTimezoneOffset(),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=p[s.getDay()],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];switch(o=h[o],10>a&&(a="0"+a),10>u&&(u="0"+u),10>l&&(l="0"+l),10>d&&(d="0"+d),m){case 660:m="MIT";break;case 600:m="HAST";break;case 540:m="AKST";break;case 480:m="PST";break;case 420:m="MST";break;case 360:m="CST";break;case 300:m="EST";break;case 240:m="PRT";break;case 180:m="CNT";break;case 120:m="BET";break;case 60:m="CAT";break;case 0:m="UTC";break;case-60:m="CET";break;case-120:m="EET";break;case-180:m="EAT";break;case-240:m="MET";break;case-300:m="NET";break;case-330:m="IST";break;case-360:m="BST";break;case-420:m="ICT";break;case-480:m="CIT";break;case-540:m="JST";break;case-600:m="AEST";break;case-660:m="SST";break;case-720:m="NZST";break;case-780:m="NZDT";break;default:m="Unknown"}writeLine(g+" "+o+" "+a+" "+u+":"+l+":"+d+" "+m+" "+c);break;case"debug":debug?(debug=!1,writeLine("Toggled debug mode off.")):(debug=!0,writeLine("Toggled debug mode on."));break;case"echo=":break;case"echo":writeLine(t);break;case"exit":window.location.href="../index.html";break;case"help":if(r){var w=t.split(/(space)/g,1)[0].replace(space,"");printHelp(w)}else writeLine("GNU bla bla bla...");break;case"info":writeLine("Don't even think about it.");break;case"init":writeLine("Nice try!");break;case"nano":writeLine("I wish to implement that..."),writeLine("Buuut it would take way too much time.");break;case"reset":document.getElementById("output").innerHTML="",setTimeout(function(){write(getcd())},1350),i=!0;break;case"set":writeLine("No.");break;case"sleep":break;case"sudo":writeLine("Super no.");break;case"sum":if(/--version/.test(t))writeLine("sum (GNU coreutils) 8.21"+nl+"Copyright (C) 2013 Free Software Foundation, Inc."+nl+"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;."+nl+"This is free software: you are free to change and redistribute it."+nl+"There is NO WARRANTY, to the extent permitted by law."+nl+nl+"Written by Kayvan Aghaiepour and David MacKenzie.");else if(/--help/.test(t))writeLine("Usage: sum  [OPTION]... [TEXT]..."+nl+"  or:  cksum [OPTION]"+nl+"Print checksum and block counts for each TEXT."+nl+nl+"  -r              use BSD sum algorithm, use 1K blocks"+nl+"  -s, --sysv      use System V sum algorithm, use 512 bytes blocks"+nl+"      --help     display this help and exit"+nl+"      --version  output version information and exit"+nl+nl+"With no TEXT, or when TEXT is -, read standard input."+nl+nl+"Report cksum bugs to bug-coreutils@gnu.org"+nl+"GNU coreutils home page: &lt;http://www.gnu.org/software/coreutils/&gt;"+nl+"General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;"+nl+"For complete documentation, run: info coreutils 'sum invocation'");else if(r){var t=t.replace(space," ");if(/-r/.test(t)){var y=t.search(/-r/)+3;t=t.substr(y,t.length-y),writeLine(HashTextSumBSD(t))}else if(/(-s|--sysv)/.test(t)){var y=t.search(/(-s|--sysv)/)+3;t=t.substr(y,t.length-y),writeLine(HashTextSumSysV(t))}else writeLine(HashTextSumBSD(t))}break;case"time":writeLine(""),writeLine("real"+insertSpaces(4)+"0m0.000s"),writeLine("user"+insertSpaces(4)+"0m0.000s"),writeLine("sys"+insertSpaces(5)+"0m0.000s");break;case"title":document.title=t.replace(space," ").trim();break;case"uuencode":r&&writeLine(UUEncode(t.replace(space," ")));break;case"uname":if(r)if(/(--version)/.test(t))writeLine("Copyright (C) 2013 Free Software Foundation, Inc."+nl+"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;."+nl+"This is free software: you are free to change and redistribute it."+nl+"There is NO WARRANTY, to the extent permitted by law."+nl+nl+"Written by David MacKenzie.");else if(/(--help)/.test(t))writeLine("Usage: uname [OPTION]..."+nl+"Print certain system information. With no OPTION, same as -s."+nl+ +nl+"  -a, --all                print all information, in the following order,"+nl+"                             except omit -p and -i if unknown:"+nl+"  -s, --kernel-name        print the kernel name"+nl+"  -n, --nodename           print the network node hostname"+nl+"  -r, --kernel-release     print the kernel release"+nl+"  -v, --kernel-version     print the kernel version"+nl+"  -m, --machine            print the machine hardware name"+nl+'-  p, --processor          print the processor type or "unknown"'+nl+'  -i, --hardware-platform  print the hardware platform or "unknown"'+nl+"  -o, --operating-system   print the operating system"+nl+"  --help     display this help and exit"+nl+"  --version  output version information and exit"+nl+ +nl+"Report uname bugs to bug-coreutils@gnu.org"+nl+"GNU coreutils home page: &lt;http://www.gnu.org/software/coreutils/&gt;"+nl+"General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;"+nl+"For complete documentation, run: info coreutils 'uname invocation'");else if(/(-a)/.test(t))writeLine("Linux ubuntu 3.16.0-31-generic #41~14.04.1-Ubuntu SMP Wed Feb 11 19:30:43 UTC 2015 i686 i686 i686 GNU/Linux");else{var T="";/(-s)/.test(t)&&(T+="Linux"+space),/(-n)/.test(t)&&(T+="ubuntu"+space),/(-r)/.test(t)&&(T+="3.16.0-generic"+space),/(-v)/.test(t)&&(T+="#41~14.04.1-Ubuntu SMP Wed Feb 11 19:30:43 UTC 2015"+space),/(-m)/.test(t)&&(T+="i686"+space),/(-p)/.test(t)&&(T+="i686"+space),/(-i)/.test(t)&&(T+="i686"+space),/(-o)/.test(t)&&(T+="GNU/Linux"),writeLine(T)}else writeLine("Linux");break;case"whoami":writeLine(username);break;case"xxencode":r&&writeLine(XXEncode(t.replace(space," ")));break;case"yes":if(/--version/.test(t))writeLine("yes (GNU coreutils) 8.21"+nl+"Copyright (C) 2013 Free Software Foundation, Inc."+nl+"License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;"+nl+"This is free software: you are free to change and redistribute it."+nl+"There is NO WARRANTY, to the extent permitted by law."+nl+ +nl+"Written by David MacKenzie.");else if(/--help/.test(t))writeLine("Usage: yes [STRING]..."+nl+"  or:  yes OPTION"+nl+"Repeatedly output a line with all specified STRING(s), or 'y'."+nl+nl+"      --help     display this help and exit"+nl+"      --version  output version information and exit"+nl+nl+"Report yes bugs to bug-coreutils@gnu.org"+nl+"GNU coreutils home page: &lt;http://www.gnu.org/software/coreutils/&gt;"+nl+"General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;"+nl+"For complete documentation, run: info coreutils 'yes invocation'");else{var L=r?t:"y";writeLine(L),yes=setInterval(function(){writeLine(L)},yes_interval),i=!0}break;default:writeLine(n+": command not found")}document.getElementById("input").innerHTML="",i||write(getcd()),i=!1}}function write(e){document.getElementById("output").innerHTML+=e,window.location.href="#cursor"}function writeLine(e){document.getElementById("output").innerHTML+=e+nl,window.location.href="#cursor"}function read(){return"&gt;TODO&lt;"}function printHelp(e){switch(e){case"help":writeLine("Displays help!");break;default:writeLine("bash: help: no help topics match `"+e+"'.  Try `help help' or `man -k "+e+"' or `info "+e+"'.")}}function insertSpaces(e){for(var t="",n=0;e>n;n++)t+=space;return t}function insertBr(e){for(var t="",n=0;e>n;n++)t+=nl;return t}function cursortoggleblink(){document.getElementById("cursor").style.visibility="hidden"==document.getElementById("cursor").style.visibility?"visible":"hidden"}window.onload=startUp;var version="0.5.4",Terminal={username:"guest",hostname:"pc",cd:"~",state:"$"},title="Terminal - v"+version,space=" ",nl="\n",navcheck=/(MSIE (7|8).0|Midori\/0.3|Firefox\/[12][0-9].+)/,navchecklight=/(Midori\/0.4)/,debug=!1,isCanceling=!1,yes_interval=25,yes,trapfunction=function(e){var t;switch(window.event?t=window.event.keyCode:e.which&&(t=e.which),t){case 8:var n=document.getElementById("input").innerHTML;return document.getElementById("input").innerHTML=n.substr(0,n.length-1),!1;case 13:return executeCommand(document.getElementById("input").innerHTML),!1;case 16:case 17:case 18:return!1;case 20:return capslock=!capslock,!1;case 32:return document.getElementById("input").innerHTML+=space,!1;case 37:return!1;case 39:return!1;case 48:return document.getElementById("input").innerHTML+=e.shiftKey?")":"0",!1;case 49:return document.getElementById("input").innerHTML+=e.shiftKey?"!":"1",!1;case 50:return document.getElementById("input").innerHTML+=e.shiftKey?"@":"2",!1;case 51:return document.getElementById("input").innerHTML+=e.shiftKey?"#":"3",!1;case 52:return document.getElementById("input").innerHTML+=e.shiftKey?"$":"4",!1;case 53:return document.getElementById("input").innerHTML+=e.shiftKey?"%":"5",!1;case 54:return document.getElementById("input").innerHTML+=e.shiftKey?"^":"6",!1;case 55:return document.getElementById("input").innerHTML+=e.shiftKey?"&":"7",!1;case 56:return document.getElementById("input").innerHTML+=e.shiftKey?"*":"8",!1;case 57:return document.getElementById("input").innerHTML+=e.shiftKey?"(":"9",!1;case 65:return e.ctrlKey?!0:(document.getElementById("input").innerHTML+=e.shiftKey?String.fromCharCode(t):String.fromCharCode(t).toLowerCase(),!1);case 67:return e.ctrlKey?(writeLine((yes>0?space:"")+document.getElementById("input").innerHTML+"^C"),write(getcd()),document.getElementById("input").innerHTML="",clearInterval(yes),isCanceling=!0,yes=0):document.getElementById("input").innerHTML+=e.shiftKey?String.fromCharCode(t):String.fromCharCode(t).toLowerCase(),!1;case 68:return e.ctrlKey?executeCommand("exit"):document.getElementById("input").innerHTML+=e.shiftKey?String.fromCharCode(t):String.fromCharCode(t).toLowerCase(),!1;case 91:case 92:case 93:return!0;case 96:return document.getElementById("input").innerHTML+="0",!1;case 97:return document.getElementById("input").innerHTML+="1",!1;case 98:return document.getElementById("input").innerHTML+="2",!1;case 99:return document.getElementById("input").innerHTML+="3",!1;case 100:return document.getElementById("input").innerHTML+="4",!1;case 101:return document.getElementById("input").innerHTML+="5",!1;case 102:return document.getElementById("input").innerHTML+="6",!1;case 103:return document.getElementById("input").innerHTML+="7",!1;case 104:return document.getElementById("input").innerHTML+="8",!1;case 105:return document.getElementById("input").innerHTML+="9",!1;case 106:return document.getElementById("input").innerHTML+="*",!1;case 107:return document.getElementById("input").innerHTML+="+",!1;case 109:return document.getElementById("input").innerHTML+="-",!1;case 110:return document.getElementById("input").innerHTML+=".",!1;case 111:return document.getElementById("input").innerHTML+="/",!1;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:return!0;case 186:return document.getElementById("input").innerHTML+=e.shiftKey?":":";",!1;case 187:return document.getElementById("input").innerHTML+=e.shiftKey?"+":"=",!1;case 188:return document.getElementById("input").innerHTML+=e.shiftKey?"<":",",!1;case 189:return document.getElementById("input").innerHTML+=e.shiftKey?"_":"-",!1;case 190:return document.getElementById("input").innerHTML+=e.shiftKey?">":".",!1;case 191:return document.getElementById("input").innerHTML+=e.shiftKey?"?":"/",!1;case 192:return document.getElementById("input").innerHTML+=e.shiftKey?'"':"'",!1;case 219:return document.getElementById("input").innerHTML+=e.shiftKey?"{":"[",!1;case 220:return document.getElementById("input").innerHTML+=e.shiftKey?"|":"\\",!1;case 221:return document.getElementById("input").innerHTML+=e.shiftKey?"}":"]",!1;default:return e.shiftKey||CapsLock.isOn()?document.getElementById("input").innerHTML+=String.fromCharCode(t):e.ctrlKey||(document.getElementById("input").innerHTML+=String.fromCharCode(t).toLowerCase()),!1}return!0};document.onkeydown=trapfunction,document.onkeypress=trapfunction;